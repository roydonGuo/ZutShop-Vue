{"version":3,"file":"js/674.5c261f5a.js","mappings":"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","sources":["webpack://zut-shop/./src/components/cart/Counter.vue","webpack://zut-shop/src/components/cart/Counter.vue","webpack://zut-shop/./src/components/cart/Counter.vue?cea2","webpack://zut-shop/./src/components/cart/Counter.vue?5813","webpack://zut-shop/./src/views/Cart.vue","webpack://zut-shop/./src/components/cart/Good.vue","webpack://zut-shop/src/components/cart/Good.vue","webpack://zut-shop/./src/components/cart/Good.vue?3dcd","webpack://zut-shop/./src/components/cart/Good.vue?1757","webpack://zut-shop/./src/components/cart/Operate.vue","webpack://zut-shop/src/components/cart/Operate.vue","webpack://zut-shop/./src/components/cart/Operate.vue?9d9c","webpack://zut-shop/./src/components/cart/Operate.vue?6211","webpack://zut-shop/src/views/Cart.vue","webpack://zut-shop/./src/views/Cart.vue?5135","webpack://zut-shop/./src/views/Cart.vue?12c1","webpack://zut-shop/./src/components/eventBus.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"number-container d-flex justify-content-center align-items-center\"},[_vm._v(\" 购买数量 \"),_c('button',{staticClass:\"btn btn-light btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.reduceCount}},[_vm._v(\" - \")]),_c('span',{staticClass:\"number-box\"},[_vm._v(_vm._s(_vm.count))]),_c('button',{staticClass:\"btn btn-light btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCount}},[_vm._v(\" + \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"number-container d-flex justify-content-center align-items-center\">\r\n    购买数量\r\n    <!-- 减 1 的按钮 -->\r\n    <button type=\"button\" class=\"btn btn-light btn-sm\" @click=\"reduceCount\">\r\n      -\r\n    </button>\r\n    <!-- 购买的数量 -->\r\n    <span class=\"number-box\">{{ count }}</span>\r\n    <!-- 加 1 的按钮 -->\r\n    <button type=\"button\" class=\"btn btn-light btn-sm\" @click=\"addCount\">\r\n      +\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from \"@/components/eventBus.js\";\r\n\r\nexport default {\r\n  props: {\r\n    cid: {\r\n      required: true,\r\n      type: Number,\r\n    },\r\n    count: {\r\n      default: 1,\r\n      type: Number,\r\n    },\r\n  },\r\n  methods: {\r\n    addCount() {\r\n      var obj = { cid: this.cid, num: this.count + 1 };\r\n      // console.log(\"'+'---id:\" + obj.cid + \"---\" + \"value:\" + obj.num);\r\n      bus.$emit(\"share\", obj);\r\n    },\r\n    reduceCount() {\r\n      if (this.count > 1) {\r\n        var obj = { cid: this.cid, num: this.count - 1 };\r\n        // console.log(\"'-'---id:\" + obj.cid + \"---\" + \"value:\" + obj.num);\r\n        bus.$emit(\"share\", obj);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.number-box {\r\n  min-width: 30px;\r\n  text-align: center;\r\n  margin: 5px;\r\n  font-size: 16px;\r\n}\r\n\r\n.btn-sm {\r\n  width: 30px;\r\n  height: 25px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Counter.vue?vue&type=template&id=90ca6d10&scoped=true&\"\nimport script from \"./Counter.vue?vue&type=script&lang=js&\"\nexport * from \"./Counter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Counter.vue?vue&type=style&index=0&id=90ca6d10&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90ca6d10\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"margin\":\"0 20%\"}},[_vm._m(0),_c('Operate',{attrs:{\"isFull\":_vm.operateState,\"amt\":_vm.amt,\"total\":_vm.total,\"goodsSelected\":_vm.goodsSelected},on:{\"isAll\":_vm.allSelect}}),_c('div',{staticClass:\"box-card clearfix\",staticStyle:{\"padding\":\"20px\"}},_vm._l((_vm.cartData),function(c){return _c('Good',{key:c.cid,attrs:{\"cid\":c.cid,\"goods_num\":c.num,\"goods_image\":c.goods.image,\"goods_title\":c.goods.title,\"goods_price\":c.goods.price,\"goods_state\":c.state},on:{\"state-changed\":_vm.getNowState,\"has-cart-delete\":_vm.getNowCart}})}),1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h2',[_c('i',{staticClass:\"el-icon-shopping-cart-full\"}),_vm._v(\"购物车\")])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"goods-container\"},[_c('div',{staticClass:\"thumb\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":'cb' + _vm.cid},domProps:{\"checked\":_vm.goods_state},on:{\"change\":_vm.stateChanged}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":'cb' + _vm.cid}},[_c('img',{attrs:{\"src\":_vm.goods_image,\"alt\":\"...\"}})])])]),_c('div',{staticClass:\"goods-info\"},[_c('h3',{staticClass:\"goods-title\"},[_vm._v(_vm._s(_vm.goods_title))]),_c('div',{staticClass:\"goods-info-bottom\"},[_c('span',{staticClass:\"goods-price\"},[_vm._v(\"单价：￥\"+_vm._s(_vm.goods_price.toFixed(2)))]),_c('Counter',{attrs:{\"count\":_vm.goods_num,\"cid\":_vm.cid}})],1)]),_c('div',[_c('el-popconfirm',{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"您确定删除吗？\"},on:{\"confirm\":_vm.removeGood}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"info\",\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-delete\"},slot:\"reference\"})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"goods-container\">\r\n    <!-- 左侧图片 -->\r\n    <div class=\"thumb\">\r\n      <div class=\"custom-control custom-checkbox\">\r\n        <!-- 复选框 -->\r\n        <input type=\"checkbox\" class=\"custom-control-input\" :id=\"'cb' + cid\" :checked=\"goods_state\"\r\n          @change=\"stateChanged\" />\r\n        <label class=\"custom-control-label\" :for=\"'cb' + cid\">\r\n          <!-- 商品的缩略图 -->\r\n          <img :src=\"goods_image\" alt=\"...\" />\r\n        </label>\r\n      </div>\r\n    </div>\r\n    <!-- 右侧信息区域 -->\r\n    <div class=\"goods-info\">\r\n      <!-- 商品标题 -->\r\n      <h3 class=\"goods-title\">{{ goods_title }}</h3>\r\n      <div class=\"goods-info-bottom\">\r\n        <!-- 商品价格 -->\r\n        <span class=\"goods-price\">单价：￥{{ goods_price.toFixed(2) }}</span>\r\n        <!-- 商品的数量 -->\r\n        <Counter :count=\"goods_num\" :cid=\"cid\"></Counter>\r\n      </div>\r\n    </div>\r\n    <!-- 删除操作 -->\r\n    <div>\r\n      <el-popconfirm class=\"ml-5\" confirm-button-text=\"确定\" cancel-button-text=\"我再想想\" icon=\"el-icon-info\"\r\n        icon-color=\"red\" title=\"您确定删除吗？\" @confirm=\"removeGood\">\r\n        <el-button type=\"info\" size=\"mini\" circle slot=\"reference\" icon=\"el-icon-delete\">\r\n        </el-button>\r\n      </el-popconfirm>\r\n      <!-- <el-button type=\"info\" icon=\"el-icon-delete\" circle @click=\"removeGood\"></el-button> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Counter from \"@/components/cart/Counter.vue\";\r\n\r\nexport default {\r\n  props: {\r\n    cid: {\r\n      required: true,\r\n      type: Number,\r\n    },\r\n    goods_num: {\r\n      default: 1,\r\n      type: Number,\r\n    },\r\n    goods_image: {\r\n      default: \"\",\r\n      type: String,\r\n    },\r\n    goods_title: {\r\n      default: \"\",\r\n      type: String,\r\n    },\r\n    goods_price: {\r\n      default: \"\",\r\n      type: Number,\r\n    },\r\n    goods_state: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n\r\n  },\r\n  methods: {\r\n    stateChanged(e) {\r\n      const nowState = e.target.checked;\r\n      this.$emit(\"state-changed\", { cid: this.cid, state: nowState });\r\n    },\r\n    removeGood() {\r\n      // console.log(this.cid);\r\n      const removeCid = this.cid\r\n      this.request.delete(\"/cart/\" + this.cid).then((res) => {\r\n        // console.log(id);\r\n        if (res.data) {\r\n          this.$message.success(\"删除成功\");\r\n          // window.location.reload();\r\n          //删除成功后告诉父组件数据减少了\r\n          this.$emit(\"has-cart-delete\", { cid: removeCid });\r\n        } else {\r\n          this.$message.error(\"删除失败\");\r\n        }\r\n      });\r\n    }\r\n  },\r\n  components: {\r\n    Counter,\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.goods-container {\r\n  /* border-top: 1px solid #efefef; */\r\n  background: white;\r\n  border-radius: 10px;\r\n  margin: 0 0 10px;\r\n  padding: 10px;\r\n  display: flex;\r\n}\r\n\r\n.goods-container .thumb .custom-control {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.goods-container .thumb label {\r\n  display: inline-block;\r\n}\r\n\r\n.goods-container .thumb img {\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 10px;\r\n  margin: 0 10px;\r\n}\r\n\r\n\r\n.goods-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  flex: 1;\r\n  padding: 10px;\r\n}\r\n\r\n.goods-info-bottom {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.goods-price {\r\n  font-weight: bold;\r\n  color: red;\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Good.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Good.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Good.vue?vue&type=template&id=17bd30b2&scoped=true&\"\nimport script from \"./Good.vue?vue&type=script&lang=js&\"\nexport * from \"./Good.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Good.vue?vue&type=style&index=0&id=17bd30b2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17bd30b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"operate-container\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"cbFull\"},domProps:{\"checked\":_vm.isFull},on:{\"change\":_vm.selectAll}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"cbFull\"}},[_vm._v(\"全选\")])]),_c('div',[_c('span',[_vm._v(\"合计：\")]),_c('span',{staticClass:\"total-price\"},[_vm._v(\"￥\"+_vm._s(_vm.amt.toFixed(2)))])]),(_vm.total == 0)?_c('button'):_c('button',{staticClass:\"btn-settle\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.purchase}},[_vm._v(\" 结算(\"+_vm._s(_vm.total)+\") \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"operate-container\">\r\n    <!-- 左侧的全选 -->\r\n    <div class=\"custom-control custom-checkbox\">\r\n      <input type=\"checkbox\" class=\"custom-control-input\" id=\"cbFull\" :checked=\"isFull\" @change=\"selectAll\" />\r\n      <label class=\"custom-control-label\" for=\"cbFull\">全选</label>\r\n    </div>\r\n    <!-- 中间的合计 -->\r\n    <div>\r\n      <span>合计：</span>\r\n      <span class=\"total-price\">￥{{ amt.toFixed(2) }}</span>\r\n    </div>\r\n    <!-- 结算按钮 -->\r\n    <button v-if=\"total == 0\">\r\n\r\n    </button>\r\n\r\n    <button type=\"button\" v-else class=\"btn-settle\" @click=\"purchase\">\r\n      结算({{ total }})\r\n    </button>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    isFull: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    amt: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    total: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    goodsSelected: {\r\n      type: Array,\r\n      default: []\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n    //点击结算，去购买\r\n    async purchase() {\r\n      // console.log(this.goodsSelected)\r\n      // localStorage.setItem(\"createOrder\",JSON.stringify(this.goodsSelected))\r\n      this.$router.push({ path: '/purchase', query: { goodsSelected: this.goodsSelected } });\r\n    },\r\n    selectAll(e) {\r\n      this.$emit(\"isAll\", e.target.checked);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.operate-container {\r\n  font-size: 12px;\r\n  height: 50px;\r\n  width: 100%;\r\n  border-radius: 10px;\r\n  border-top: 1px solid #efefef;\r\n  /* position: fixed; */\r\n  /* bottom: 0; */\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 30px;\r\n}\r\n\r\n.custom-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n#cbFull {\r\n  margin-right: 5px;\r\n}\r\n\r\n.btn-settle {\r\n  height: 40px;\r\n  color: white;\r\n  min-width: 100px;\r\n  border-radius: 25px;\r\n  border: 0 !important;\r\n  text-align: center;\r\n  background: #409EFF;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-settle:hover {\r\n  background: #b8b8ff;\r\n  columns: black;\r\n}\r\n\r\n.total-price {\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Operate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Operate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Operate.vue?vue&type=template&id=56530ab4&scoped=true&\"\nimport script from \"./Operate.vue?vue&type=script&lang=js&\"\nexport * from \"./Operate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Operate.vue?vue&type=style&index=0&id=56530ab4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56530ab4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div style=\"margin: 0 20%;\">\r\n\r\n    <h2><i class=\"el-icon-shopping-cart-full\"> </i>购物车</h2>\r\n    <Operate :isFull=\"operateState\" @isAll=\"allSelect\" :amt=\"amt\" :total=\"total\" :goodsSelected=\"goodsSelected\">\r\n    </Operate>\r\n    <div class=\"box-card clearfix\" style=\"padding: 20px\">\r\n\r\n      <Good v-for=\"c in cartData\" :key=\"c.cid\" :cid=\"c.cid\" :goods_num=\"c.num\" :goods_image=\"c.goods.image\"\r\n        :goods_title=\"c.goods.title\" :goods_price=\"c.goods.price\" :goods_state=\"c.state\" @state-changed=\"getNowState\"\r\n        @has-cart-delete=\"getNowCart\">\r\n      </Good>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from \"@/components/eventBus.js\";\r\nimport Good from \"@/components/cart/Good.vue\";\r\nimport Operate from \"@/components/cart/Operate.vue\";\r\nexport default {\r\n  name: \"Cart\",\r\n  data() {\r\n    return {\r\n      user: localStorage.getItem(\"userInfo\")\r\n        ? JSON.parse(localStorage.getItem(\"userInfo\"))\r\n        : null,\r\n      cartData: [],\r\n    };\r\n  },\r\n  components: {\r\n    Good, Operate\r\n  },\r\n  created() {\r\n    this.getUserCart();\r\n    bus.$on(\"share\", (obj) => {\r\n      this.cartData.some((item) => {\r\n        if (item.cid === obj.cid) {\r\n          item.num = obj.num;\r\n          return true;\r\n        }\r\n      });\r\n      // console.log(this.cartData);\r\n    })\r\n  },\r\n  computed: {\r\n    operateState() {\r\n      return this.cartData.every((item) => item.state);\r\n    },\r\n    // 已勾选商品的总价值\r\n    amt() {\r\n      return this.cartData\r\n        .filter((item) => item.state)\r\n        .reduce(\r\n          (total, item) => (total += item.goods.price * item.num),\r\n          0\r\n        );\r\n    },\r\n    //哪些商品被勾选了，是数组[100021,100025,...]\r\n    goodsSelected() {\r\n      return this.cartData\r\n        .filter((item) => item.state)\r\n    },\r\n    total() {\r\n      return this.cartData\r\n        .filter((item) => item.state)\r\n        .reduce((total, item) => (total += item.num), 0);\r\n    },\r\n  },\r\n  methods: {\r\n    async getUserCart() {\r\n      await this.request.get(\"/cart/list\", {\r\n        params: {\r\n          uid: this.user.uid\r\n        },\r\n      }).then((res) => {\r\n        if (res.code === 200) {\r\n          res.data.forEach((c) => {\r\n            //挂载状态数据\r\n            c.state = false;\r\n          })\r\n          this.cartData = res.data;\r\n          // console.log(this.cartData);\r\n        } else {\r\n          this.$message.error(\"获取购物车失败\")\r\n        }\r\n      });\r\n    },\r\n    getNowState(obj) {\r\n      // obj 就是子组件传来的新状态 {id: 1, state: false}...\r\n      // console.log(obj);\r\n      this.cartData.some((item) => {\r\n        if (item.cid == obj.cid) {\r\n          item.state = obj.state;\r\n          // 终止后续不必要的循环\r\n          return true;\r\n        }\r\n      });\r\n    },\r\n    getNowCart(obj) {\r\n      // console.log(obj);\r\n      //遍历剔除被删除的数据\r\n      this.getUserCart();\r\n      // this.cartData.filter((item) => {\r\n      //   return item.cid != obj.cid;\r\n      // });\r\n    },\r\n    allSelect(e) {\r\n      // console.log(e);\r\n      this.cartData.forEach((item) => {\r\n        item.state = e;\r\n      }); \r\n      // console.log(this.cartData);\r\n    },\r\n  },\r\n  updated() {\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  background: rgba(185, 187, 255, 0.623);\r\n  border-radius: 10px;\r\n}\r\n\r\ntbody>tr>td h3 {\r\n  text-align: center;\r\n}\r\n\r\ndiv h2 {\r\n  padding: 10px;\r\n  background: #409eff;\r\n  border-radius: 10px;\r\n}\r\n\r\n.el-table--border {\r\n  border-radius: 10px;\r\n}\r\n\r\n/* .number-box {\r\n  text-align: center;\r\n  display: inline-block;\r\n  line-height: inherit;\r\n  margin: 6px;\r\n  height: 24px;\r\n  border: 1px solid black;\r\n} */\r\n\r\n.btn-sm {\r\n  cursor: pointer;\r\n  line-height: inherit;\r\n  margin: 6px;\r\n  -webkit-appearance: button;\r\n  height: 24px;\r\n  width: 24px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=b7337d4c&scoped=true&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=b7337d4c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7337d4c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nexport default new Vue()"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","reduceCount","_s","count","addCount","staticRenderFns","props","cid","required","type","default","methods","num","bus","component","staticStyle","_m","operateState","amt","total","goodsSelected","allSelect","_l","cartData","c","key","goods","image","title","price","state","getNowState","getNowCart","domProps","goods_state","stateChanged","goods_image","goods_title","goods_price","toFixed","goods_num","removeGood","slot","components","Counter","isFull","selectAll","purchase","created","mounted","path","query","name","data","user","JSON","Good","Operate","item","computed","filter","reduce","params","uid","res","updated","Vue"],"sourceRoot":""}