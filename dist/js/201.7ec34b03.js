"use strict";(self["webpackChunkzut_shop"]=self["webpackChunkzut_shop"]||[]).push([[201],{201:function(s,e,r){r.r(e),r.d(e,{default:function(){return m}});var o=function(){var s=this,e=s._self._c;return e("el-card",{staticStyle:{width:"500px",margin:"0 auto"}},[e("el-form",{ref:"pass",attrs:{"label-width":"120px",size:"small",model:s.form,rules:s.rules}},[e("el-form-item",{attrs:{label:"原密码",prop:"password"}},[e("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:s.form.password,callback:function(e){s.$set(s.form,"password",e)},expression:"form.password"}})],1),e("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[e("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:s.form.newPassword,callback:function(e){s.$set(s.form,"newPassword",e)},expression:"form.newPassword"}})],1),e("el-form-item",{attrs:{label:"确认新密码",prop:"confirmPassword"}},[e("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:s.form.confirmPassword,callback:function(e){s.$set(s.form,"confirmPassword",e)},expression:"form.confirmPassword"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:s.save}},[s._v("确 定")])],1)],1)],1)},t=[],a=(r(7658),{name:"Password",data(){return{form:{},user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,rules:{password:[{required:!0,message:"请输入原密码",trigger:"blur"},{min:3,message:"长度不少于3位",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:3,message:"长度不少于3位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,message:"长度不少于3位",trigger:"blur"}]}}},created(){this.form.username=this.user.username,this.noticeMsg()},methods:{save(){this.$refs.pass.validate((s=>{if(s){if(this.form.newPassword!==this.form.confirmPassword)return this.$message.error("2次输入的新密码不相同"),!1;this.request.post("/user/password",this.form).then((s=>{console.log(this.form),200===s.code?(this.$message.success("修改成功"),this.$router.push("/user")):this.$message.error(s.msg)}))}}))},noticeMsg(){this.$notify({dangerouslyUseHTMLString:!0,message:"请确定是 <strong style='color:blue'>"+this.user.username+"</strong> 本人操作",type:"warning"})}}}),l=a,i=r(1001),n=(0,i.Z)(l,o,t,!1,null,null,null),m=n.exports}}]);
//# sourceMappingURL=201.7ec34b03.js.map