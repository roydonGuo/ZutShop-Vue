"use strict";(self["webpackChunkzut_shop"]=self["webpackChunkzut_shop"]||[]).push([[211],{6211:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{margin:"0 10%"}},[t._l(t.orderData,(function(a){return e("div",{key:a.oid,staticClass:"text item"},[e("el-card",{staticClass:"box-card",staticStyle:{margin:"20px 0"}},[e("div",{staticClass:"clearfix orderInfo",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("订单号：")]),e("strong",[t._v(t._s(a.oid))]),e("span",[t._v("下单时间：")]),e("strong",[t._v(t._s(a.orderTime))]),e("span",[t._v("收货人：")]),e("strong",[t._v(t._s(a.name))]),e("strong",{staticStyle:{float:"right"}},[t._v(t._s("￥"+a.totalPrice))]),e("span",{staticStyle:{float:"right"}},[t._v("订单总金额：")])]),e("div",[e("el-table",{attrs:{data:a.orderItemList,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"},"default-expand-all":"","summary-method":t.getTotalPrice,"show-summary":"",stripe:"",border:""}},[e("el-table-column",{attrs:{label:"",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.row.image,alt:"图片加载失败"}})]}}],null,!0)}),e("el-table-column",{attrs:{label:"商品",align:"center",prop:"title"}}),e("el-table-column",{attrs:{label:"单价",width:"100",align:"center",prop:"price"}}),e("el-table-column",{attrs:{label:"数量",width:"50",align:"center",prop:"num"}}),e("el-table-column",{attrs:{label:"小计",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("strong",[t._v(t._s("￥"+a.row.price*a.row.num))])]}}],null,!0)}),e("el-table-column",{attrs:{label:"售后",width:"100",align:"center"}},[e("a",{attrs:{href:"#"}},[e("el-button",{attrs:{size:"mini",type:"success",round:""}},[t._v("申请售后")])],1)]),e("el-table-column",{attrs:{label:"状态",width:"100",align:"center"}},[e("div",[t._v("已发货")])]),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"mr-5",attrs:{size:"mini",type:"primary",round:""},on:{click:function(e){return t.toOrderInfo(a.row)}}},[t._v("订单详情")]),e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.sureReceive(a.row)}}},[t._v("确认收货"),e("i",{staticClass:"el-icon-circle-check"})])]}}],null,!0)})],1)],1)])],1)})),e("div",{staticStyle:{padding:"10px 0",display:"inline-block"}},[e("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[2,5,10,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2)},l=[],n=(a(7658),{name:"Orders",data(){return{orderData:{},orderItemData:{},pageNum:1,pageSize:2,total:0}},created(){this.getOrderList()},methods:{getTotalPrice(t){const{columns:e,data:a}=t,r=[];return e.forEach((t=>{const e=a.map((t=>Number(t.num*Number(t.price)))),l=e.reduce(((t,e)=>t+e));r[6]="订单总金额",r[7]="￥"+l})),r},getOrderList(){this.request.get("/order/list",{params:{pageNum:this.pageNum,pageSize:this.pageSize}}).then((t=>{200===t.code&&(this.orderData=t.data.data.records,this.total=parseInt(t.data.data.total),localStorage.setItem("_oNum",Number(this.total)))}))},handleCurrentChange(t){this.pageNum=t,this.getOrderList()},handleSizeChange(t){this.pageSize=t,this.getOrderList()},toOrderInfo(t){localStorage.setItem("toOrderInfo",JSON.stringify(t)),this.$router.push({path:"/orderInfo",query:{order:t}})},sureReceive(t){}}}),s=n,i=a(1001),o=(0,i.Z)(s,r,l,!1,null,"f9ab880a",null),c=o.exports}}]);
//# sourceMappingURL=211.68b2de1b.js.map